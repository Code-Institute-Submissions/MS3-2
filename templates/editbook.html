{% extends 'base.html' %}
{% block tab_title  %}Edit{% endblock %}
{% block content  %}
<h2 class="text-center">{{ page_title }}</h2>
<div class="container">
   <form action="{{ url_for('insert_book') }}" method="post">
      <div class="form-group">
         <label for="book_name">Title</label> 
         <input type="text" name="book_name" id="book_name" class="form-control" value="{{book.book_name}}" required>
      </div>
      <div class="form-group">
         <label for="author_name">Author</label> 
         <input type="text" name="author_name" id="author_name" class="form-control" value="{{book.author_name}}" required>
      </div>
      <!--As we loop through the genres, if the genre matches the genre_name returned from MongoDB, then we set that value as selected-->
      <div class="form-group">
         <label for="genre">Genre </label> 
         <select type="text" name="genre_name" id="genre" class="form-control" placeholder="Choose Genre">
            <option value="" selected disabled>Choose Genre</option>
            {% for genre in genres %}
            {% if book.genre_name == genre.genre_name %}
            <option value="{{genre.genre_name}}" selected>{{genre.genre_name}}</option>
            {% else %}
            <option value="{{genre.genre_name}}">{{genre.genre_name}}</option>
            {% endif %}
            {% endfor %}
         </select>
      </div>
      <div class="form-group">
         <label for="summary">Summary</label> 
         <textarea type="text" name="summary" id="summary" class="form-control">"{{book.summary}}"</textarea>
      </div>
      <div class="from-group">
         <label for="added_by">Added By</label> 
         <input type="text" rows="5" name="added_by" id="added_by" class="form-control" value="{{book.added_by}}">
      </div>
      <div class="form-group">
         <input type="submit" value="Submit" class="mt-3">
      </div>
   </form>
</div>
{% endblock %}